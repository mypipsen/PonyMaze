{"version":3,"sources":["util/array.js","components/Notification.js","util/cookie.js","api/ponyApi.js","algorithms/depthFirst.js","redux/types.js","redux/actions.js","components/MazeSelector.js","components/MazeCreation.js","components/Maze.js","components/MazeSolver.js","components/App.js","serviceWorker.js","redux/reducer.js","redux/store.js","index.js"],"names":["global","Array","range","n","apply","map","x","i","Object","defineProperty","prototype","value","_this","this","Math","ceil","length","slice","Notification","error","props","react_default","a","createElement","className","concat","Component","connect","state","cookie","set","name","daysToExpire","arguments","undefined","path","expirationDate","Date","setDate","getDate","document","toString","get","key","cookies","split","substr","indexOf","replace","decodeURI","baseUrl","ponyApi","create","params","Promise","resolve","reject","axios","post","then","response","data","maze_id","catch","err","fetch","id","move","direction","status","depthFirst","search","maze","width","size","height","cells","end","pony","already_visited","alreadyVisited","onEdge","pos","y","cell","floor","push","east","west","north","south","pop","back","FETCH_MAZES","FETCH_MAZE_SUCCESS","FETCH_MAZE_FAILURE","CREATE_MAZE_SUCCESS","CREATE_MAZE_FAILURE","MOVE_SUCCESS","MOVE_FAILURE","SOLUTION_SUCCESS","SOLUTION_FAILURE","getMazesFromCookie","mazes","JSON","parse","isArray","fetchMaze","dispatch","type","payload","MazeSelector","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","active","fetchMazes","setState","prevState","_this2","onClick","toggle","select","MazeCreation","createMaze","maze-width","maze-height","maze-player-name","difficulty","random","stringify","Maze","onKeyDown","bind","assertThisInitialized","addEventListener","e","keyCode","preventDefault","movePony","_this$props","solution","rows","chunk","objectLocations","object","join","MazeSolver","solveMaze","App","href","target","rel","components_MazeCreation","components_MazeSelector","components_MazeSolver","components_Notification","components_Maze","Boolean","window","location","hostname","match","defaultState","storeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","action","objectSpread","toConsumableArray","applyMiddleware","thunk","ReactDOM","render","es","components_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.af1cb294.chunk.js","sourcesContent":["global.Array.range = function (n) {\n    // Array.range(5) --> [0,1,2,3,4]\n    return Array.apply(null, Array(n)).map((x, i) => i)\n};\n\nglobal.Object.defineProperty(Array.prototype, 'chunk', {\n    value: function (n) {\n\n        // ACTUAL CODE FOR CHUNKING ARRAY:\n        return Array.range(Math.ceil(this.length / n)).map((x, i) => this.slice(i * n, i * n + n));\n\n    }\n});","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\n\nconst mapStateToProps = state => {\n    return {error: state.error};\n};\n\nclass Notification extends Component {\n\n    get className() {\n        if (this.props.error === 'You won. Game ended') {\n            return 'alert-success';\n        }\n\n        return 'alert-danger';\n    }\n\n    render() {\n        const {error} = this.props;\n\n        if (!error) {\n            return null;\n        }\n\n        return (\n            <div className=\"notification toast show\">\n                <div className=\"toast-header text-center m-0 p-0\">\n                    <div className={`alert m-0 ${this.className}`}>\n                        {error}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(Notification);","export default {\n\n    set(name, value, daysToExpire = 1, path = '/') {\n        const expirationDate = new Date();\n        expirationDate.setDate(expirationDate.getDate() + daysToExpire);\n\n        document.cookie = `${name}=${value}; expires=${expirationDate.toString()};path=${path}`;\n    },\n\n    get(name) {\n        let key, value, cookies = document.cookie.split(';');\n\n        for (let i = 0, length = cookies.length; i < length; i++) {\n            key = cookies[i].substr(0, cookies[i].indexOf('=')).replace(/^\\s+|\\s+$/g, '');\n            value = cookies[i].substr(cookies[i].indexOf('=') + 1);\n\n            if (key === name) {\n                return decodeURI(value);\n            }\n        }\n    },\n}","import axios from 'axios/index';\n\nconst baseUrl = 'https://ponychallenge.trustpilot.com/pony-challenge';\n\nexport default {\n\n    create(params) {\n        return new Promise((resolve, reject) => {\n            axios\n                .post(`${baseUrl}/maze`, params)\n                .then(response => {\n                    resolve(response.data.maze_id);\n                })\n                .catch(err => reject(err));\n        });\n    },\n\n    fetch(id) {\n        return new Promise((resolve, reject) => {\n            axios\n                .get(`${baseUrl}/maze/${id}`)\n                .then(response => resolve(response.data))\n                .catch(err => reject(err));\n        });\n    },\n\n    move(id, direction) {\n        return new Promise((resolve, reject) => {\n            axios\n                .post(`${baseUrl}/maze/${id}`, {direction: direction})\n                .then(response => {\n                    if (response.status === 200 && response.data['state-result'] === 'Move accepted') {\n                        resolve(response.data);\n                    } else {\n                        reject({response: {data: response.data['state-result']}})\n                    }\n                })\n                .catch(err => reject(err));\n        });\n    },\n\n}","export default {\n\n    search(maze) {\n        return new Promise((resolve, reject) => {\n\n            const width = maze.size[0];\n            const height = maze.size[1];\n            const cells = maze.data;\n            const end = maze['end-point'][0];\n            const pony = maze.pony[0];\n\n            let already_visited = {};\n            let path = [];\n\n            const alreadyVisited = (i) => {\n                return typeof already_visited[i] !== 'undefined';\n            };\n\n            const onEdge = (direction, pos) => {\n                switch (direction) {\n                    case 'east':\n                        return pos.x === width - 1;\n                    case 'west':\n                        return pos.x === 0;\n                    case 'north':\n                        return pos.y === 0;\n                    case 'south':\n                        return pos.y === height - 1;\n                    default:\n                        return false;\n                }\n            };\n\n            const move = (i) => {\n                const cell = cells[i];\n                const pos = {\n                    x: i % width,\n                    y: Math.floor(i / width)\n                };\n\n                if (i === end) {\n                    // Found route\n                    return resolve(path);\n                }\n\n                already_visited[i] = i;\n                path.push(i);\n\n                const east = i + 1;\n                const west = i - 1;\n                const north = i - width;\n                const south = i + width;\n\n                if (!alreadyVisited(east) && !onEdge('east', pos) && cells[east].indexOf('west') === -1) {\n                    return move(east);\n                }\n\n                if (!alreadyVisited(west) && !onEdge('west', pos) && cell.indexOf('west') === -1) {\n                    return move(west);\n                }\n\n                if (!alreadyVisited(north) && !onEdge('north', pos) && cell.indexOf('north') === -1) {\n                    return move(north);\n                }\n\n                if (!alreadyVisited(south) && !onEdge('south', pos) && cells[south].indexOf('north') === -1) {\n                    return move(south);\n                }\n\n                path.pop();\n                const back = path.pop();\n\n                if (back) {\n                    return move(back);\n                }\n\n                reject('Failed solving maze');\n            };\n\n            move(pony);\n\n        });\n    }\n\n}","export const FETCH_MAZES = 'FETCH_MAZES';\nexport const FETCH_MAZE_SUCCESS = 'FETCH_MAZE_SUCCESS';\nexport const FETCH_MAZE_FAILURE = 'FETCH_MAZE_FAILURE';\nexport const CREATE_MAZE_SUCCESS = 'CREATE_MAZE_SUCCESS';\nexport const CREATE_MAZE_FAILURE = 'CREATE_MAZE_FAILURE';\nexport const MOVE_SUCCESS = 'MOVE_SUCCESS';\nexport const MOVE_FAILURE = 'MOVE_FAILURE';\nexport const SOLUTION_SUCCESS = 'SOLUTION_SUCCESS';\nexport const SOLUTION_FAILURE = 'SOLUTION_FAILURE';","import cookie from '../util/cookie';\nimport ponyApi from '../api/ponyApi';\nimport depthFirst from '../algorithms/depthFirst';\nimport {\n    FETCH_MAZES,\n    FETCH_MAZE_SUCCESS,\n    FETCH_MAZE_FAILURE,\n    CREATE_MAZE_SUCCESS,\n    CREATE_MAZE_FAILURE,\n    MOVE_SUCCESS,\n    MOVE_FAILURE,\n    SOLUTION_SUCCESS,\n    SOLUTION_FAILURE,\n} from './types';\n\nfunction getMazesFromCookie() {\n    let mazes = cookie.get('mazes');\n\n    if (typeof mazes === 'undefined') {\n        return [];\n    }\n\n    try {\n        mazes = JSON.parse(mazes);\n\n        if (!Array.isArray(mazes)) {\n            return [];\n        }\n\n        return mazes;\n    } catch (err) {\n        return [];\n    }\n}\n\nexport function fetchMazes() {\n    return (dispatch) => {\n        const mazes = getMazesFromCookie();\n        dispatch({type: FETCH_MAZES, payload: mazes});\n    }\n}\n\nexport function fetchMaze(id) {\n    return (dispatch) => {\n        ponyApi\n            .fetch(id)\n            .then(data => {\n                dispatch({type: FETCH_MAZE_SUCCESS, payload: data});\n            })\n            .catch(err => {\n                dispatch({type: FETCH_MAZE_FAILURE, payload: err.response.data});\n            });\n    }\n}\n\nexport function createMaze(params) {\n    return (dispatch) => {\n        ponyApi\n            .create(params)\n            .then(id => {\n                const mazes = getMazesFromCookie();\n                mazes.push(id);\n                cookie.set('mazes', JSON.stringify(mazes));\n\n                dispatch({type: CREATE_MAZE_SUCCESS, payload: id});\n                dispatch(fetchMaze(id));\n            })\n            .catch(err => {\n                dispatch({type: CREATE_MAZE_FAILURE, payload: err.response.data});\n            });\n    }\n}\n\nexport function movePony(id, direction) {\n    return (dispatch) => {\n        ponyApi\n            .move(id, direction)\n            .then(() => {\n                dispatch({type: MOVE_SUCCESS, payload: id});\n                dispatch(fetchMaze(id));\n            })\n            .catch(err => {\n                dispatch({type: MOVE_FAILURE, payload: err.response.data});\n                dispatch(fetchMaze(id));\n            });\n    }\n}\n\nexport function solveMaze(maze) {\n    return (dispatch) => {\n        depthFirst\n            .search(maze)\n            .then(path => {\n                dispatch({type: SOLUTION_SUCCESS, payload: path});\n            })\n            .catch(err => {\n                dispatch({type: SOLUTION_FAILURE, payload: err});\n            });\n    }\n}","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {fetchMazes, fetchMaze} from '../redux/actions';\n\nconst mapStateToProps = state => {\n    return {mazes: state.mazes, maze: state.maze};\n};\n\nclass MazeSelector extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {active: false};\n    }\n\n    componentDidMount() {\n        this.props.fetchMazes();\n    }\n\n    toggle() {\n        this.setState(prevState => ({active: !prevState.active}));\n    }\n\n    select(maze) {\n        this.setState({active: false});\n        this.props.fetchMaze(maze);\n    }\n\n    render() {\n        const {mazes} = this.props;\n\n        if (mazes.length === 0) {\n            return null;\n        }\n\n        return (\n            <div className=\"dropdown clickable\">\n                <div className=\"btn btn-primary dropdown-toggle\" onClick={() => this.toggle()}>Select existing maze</div>\n                <div className={`dropdown-menu ${this.state.active ? 'show' : ''}`}>\n                    {mazes.map((maze, i) => {\n                        const active = this.props.maze && this.props.maze.maze_id === maze;\n                        return (\n                            <div className={`dropdown-item ${active ? 'active' : ''}`} key={i}\n                                 onClick={() => this.select(maze)}>\n                                {maze}\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(mapStateToProps, {fetchMazes, fetchMaze})(MazeSelector);","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {createMaze} from '../redux/actions'\n\nclass MazeCreation extends Component {\n\n    create() {\n        this.props.createMaze({\n            'maze-width': 15,\n            'maze-height': 25,\n            'maze-player-name': 'Fluttershy',\n            'difficulty': Math.floor(Math.random() * 11)\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"maze-creation\">\n                <button className=\"btn btn-primary\" onClick={() => this.create()}>Create new maze</button>\n            </div>\n        )\n    }\n}\n\nexport default connect(null, {createMaze})(MazeCreation);","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport '../util/array';\nimport {movePony} from '../redux/actions';\n\nconst mapStateToProps = state => {\n    return {maze: state.maze, solution: state.solution};\n};\n\nclass Maze extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.onKeyDown = this.onKeyDown.bind(this);\n    }\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.onKeyDown, false);\n    }\n\n    componentWillUnmount() {\n        document.addEventListener('keydown', this.onKeyDown, false);\n    }\n\n    onKeyDown(e) {\n        if (!this.props.maze) {\n            return;\n        }\n\n        // Prevent scrolling on arrow keys\n        if ([32, 37, 38, 39, 40].indexOf(e.keyCode) > -1) {\n            e.preventDefault();\n        }\n\n        let direction;\n\n        switch (e.keyCode) {\n            case 87: // W\n            case 38: // Up\n                direction = 'north';\n                break;\n            case 65: // A\n            case 37: // Left\n                direction = 'west';\n                break;\n            case 83: // S\n            case 40: // Down\n                direction = 'south';\n                break;\n            case 68: // D\n            case 39: // Right\n                direction = 'east';\n                break;\n            default:\n                direction = null;\n        }\n\n        if (direction) {\n            this.props.movePony(this.props.maze.maze_id, direction);\n        }\n    }\n\n    render() {\n        const {maze, solution} = this.props;\n\n        if (!maze) {\n            return null;\n        }\n\n        const width = maze.size[0];\n        const rows = maze.data.chunk(width);\n\n        let objectLocations = {};\n        objectLocations[maze['pony']] = 'pony';\n        objectLocations[maze['domokun']] = 'domokun';\n        objectLocations[maze['end-point']] = 'end-point';\n\n        return (\n            <div className=\"maze\">\n                {rows.map((cells, i) => {\n                    return (\n                        <div className=\"maze-row\" key={i}>\n                            {cells.map((cell, y) => {\n                                const key = i * width + y;\n                                const object = objectLocations[key] ? `object__${objectLocations[key]}` : '';\n                                const path = solution.indexOf(key) > -1 ? 'path' : '';\n\n                                return (\n                                    <div className={`maze-cell ${cell.join(' ')} ${object} ${path}`} key={key} />\n                                )\n                            })}\n                        </div>\n                    )\n                })}\n            </div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, {movePony})(Maze);","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {solveMaze} from '../redux/actions'\n\nconst mapStateToProps = state => {\n    return {maze: state.maze};\n};\n\nclass MazeSolver extends Component {\n\n    render() {\n        if (!this.props.maze) {\n            return null;\n        }\n\n        return (\n            <div className=\"btn btn-primary\" onClick={() => this.props.solveMaze(this.props.maze)}>Solve maze</div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, {solveMaze})(MazeSolver);","import React, {Component} from 'react';\nimport Notification from './Notification';\nimport MazeSelector from './MazeSelector';\nimport MazeCreation from './MazeCreation';\nimport Maze from './Maze';\nimport MazeSolver from \"./MazeSolver\";\n\nclass App extends Component {\n\n    render() {\n        return (\n            <div className=\"app container\">\n                <div className=\"row jumbotron\">\n                    <div className=\"col align-items-center\">\n                        <h1>Pony Maze</h1>\n                        <p>Help the pony escape the maze without getting eaten by the domokun! Move using the arrow keys or WASD.</p>\n                        <p>\n                            <a href=\"https://github.com/Bikstok/PonyMaze\" target=\"_blank\" rel=\"noopener noreferrer\">Source code</a>\n                        </p>\n                        <div className=\"row\">\n                            <div className=\"col-md-auto\">\n                                <MazeCreation/>\n                            </div>\n                            <div className=\"col-md-auto\">\n                                <MazeSelector/>\n                            </div>\n                            <div className=\"col-md-auto\">\n                                <MazeSolver/>\n                            </div>\n                        </div>\n                        <div className=\"row mt-5\">\n                            <div className=\"col-md-auto\">\n                                <Notification/>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col align-items-center\">\n                        <Maze/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit https://bit.ly/CRA-PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            );\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","import {\n    FETCH_MAZES,\n    FETCH_MAZE_SUCCESS,\n    FETCH_MAZE_FAILURE,\n    CREATE_MAZE_SUCCESS,\n    CREATE_MAZE_FAILURE,\n    MOVE_SUCCESS,\n    MOVE_FAILURE,\n    SOLUTION_SUCCESS,\n    SOLUTION_FAILURE,\n} from './types';\n\nconst defaultState = {\n    mazes: [],\n    maze: null,\n    solution: [],\n};\n\nexport default function reducer(state = defaultState, action) {\n    switch (action.type) {\n\n        case FETCH_MAZES:\n            return {\n                ...state,\n                mazes: action.payload\n            };\n\n        case FETCH_MAZE_SUCCESS:\n            let solution = state.solution;\n\n            if (state.maze && action.payload && state.maze.maze_id !== action.payload.maze_id) {\n                // Reset solution on new mazes\n                solution = [];\n            }\n\n            return {\n                ...state,\n                maze: action.payload,\n                solution: solution,\n            };\n\n        case FETCH_MAZE_FAILURE:\n            return {\n                ...state,\n                error: action.payload,\n            };\n\n        case CREATE_MAZE_SUCCESS:\n            return {\n                ...state,\n                error: null,\n                mazes: [action.payload, ...state.mazes]\n            };\n\n        case CREATE_MAZE_FAILURE:\n            return {\n                ...state,\n                error: action.payload,\n            };\n\n        case MOVE_SUCCESS:\n            return {\n                ...state,\n                error: null,\n            };\n\n        case MOVE_FAILURE:\n            return {\n                ...state,\n                error: action.payload,\n            };\n\n        case SOLUTION_SUCCESS:\n            return {\n                ...state,\n                solution: action.payload,\n                error: null,\n            };\n\n        case SOLUTION_FAILURE:\n            return {\n                ...state,\n                solution: [],\n                error: action.payload,\n            };\n\n        default:\n            return state;\n    }\n};","import {createStore, applyMiddleware, compose} from 'redux';\nimport thunk from 'redux-thunk';\nimport Reducer from './reducer';\n\nconst storeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n    Reducer,\n    storeEnhancers(applyMiddleware(thunk))\n);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/store';\nimport {Provider} from 'react-redux';\nimport 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n// For easy debugging in browser\nwindow.store = store;"],"sourceRoot":""}